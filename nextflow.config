includeConfig "./conf/containers.config"

params {
    // [sort_reads, consensus_gen] 
    entry_point = "sort_reads"
    manifest = null

    // set directory containing fastqs
    reads_dir = null

    // kraken database
    db_path = null
    db_library_fa_path = null

    // kraken report filter
    min_reads_for_taxid = 100

    // ivar params
    depth_treshold = 5
    mapping_quality_treshold = 30

    // virus subtyping branching keywords
    scv2_keyword = "Severe acute respiratory syndrome coronavirus 2"
    flu_keyword = "Influenza"

    //subtyping switchs
    do_scov2_subtyping = true
    do_flu_subtyping = true

    // generate consensus entry point
    consensus_mnf = null

    // set where output files should be published
    results_dir = "$launchDir/output/"

}


docker {
    enabled = false
}

singularity {
    enabled = true
    //autoMounts = true
    //cacheDir = "$PWD"
    //runOptions = "--bind /lustre,/nfs,/software"
}

profiles {
    sanger_local {
        docker {
            enabled = false
        }
        
        singularity {
            enabled = true
            autoMounts = true
            cacheDir = "$PWD"
            runOptions = "--bind /lustre,/nfs,/software,/data/"
        }
    }
}
