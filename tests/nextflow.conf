/*
========================================================================================
    Nextflow config file for running tests
========================================================================================
*/
includeConfig

params {
    meta = [id:"test"]
    containers_dir = "/lustre/scratch126/gsu/team112/personal/ad45/rvi_box/dev_containers/"
    db_path = "${projectDir}/tests/test_data/test_kraken_databases/minimal"
}

process {
    // default container
    container = "${params.containers_dir}/base_container.sif"

    withLabel: ivar {
        container = "${params.containers_dir}/ivar.sif"
    }

    withLabel: kraken {
        container = "${params.containers_dir}/kraken.sif"
    }

    withLabel: pangolin {
        container = "${params.containers_dir}/pangolin.sif"
    }
}

profiles {
    sanger_local {
        docker {
            enabled = false
        }
        
        singularity {
            enabled = true
            autoMounts = true
            cacheDir = "$PWD"
            runOptions = "--bind /lustre,/nfs,/software,/data/"
        }
    }
}
